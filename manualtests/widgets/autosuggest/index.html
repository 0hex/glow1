<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<title>AutoSuggest Examples</title>
	
	<style type="text/css" title="text/css" media="screen">
		.swatch {
			width: 10px;
			height: 10px;
			margin: 0 2px;
			float: left;
			border: 1px solid #000;
		}
	</style>
	
	<!-- assumes gloader project folder is next to glow project folder -->
	<script type="text/javascript" src="../../../../gloader/src/gloader.js">
		gloader.use(
			"glow",
			{
				$map:  "../../../srcloader/map.js",
				$base: "../../../src/"
			}
		);
	</script>
	
	<script type="text/javascript">
		gloader.load(
			['glow', '@VERSION@', 'glow.widgets.AutoSuggest', 'glow.widgets.AutoComplete']
		);
	</script>
</head>

<body>
	<h1>glow.widgets.AutoSuggest examples</h1>
	
	<div class="example">	
		<h2>Autosuggest with minimum input length, and completion</h2>
		<p>no description</p>
		
		<script type="text/javascript" class="showSrc">
		// <![CDATA[
		glow.ready(function() {
			new glow.widgets.AutoSuggest(
				"#colornames1",
				"colornames.js",
				{
					onInputChange: function(event) {
						// only hit the server when we have more than 2 chars
						if (event.value.length < 3) {
							event.preventDefault();
							this.hide();
						}
					},
					complete: true,
					activeOnShow: false,
					delim: " "
				}
			)
			.loadData();
		});
		// ]]>
		</script>
		
		<div class="sandbox">
			<form action="#" onsubmit="alert('submit: '+this.colornames1.value); return false;">
			<p>Try it: <input type="text" id="colornames1" autocomplete="false" /> (type the name of a web-safe colour delimited with spaces)</p>
			</form>
		</div>
	</div>
	
	<div class="example">	
		<h2>Autosuggest with formatItem, no completion</h2>
		<p>Making the suggstion list look fancy.</p>
		
		<script type="text/javascript" class="showSrc">
		// <![CDATA[
		glow.ready(function() {
			new glow.widgets.AutoSuggest(
				"#colornames2",
				"colornames.js",
				{
					onItemSelect: function(e){
						this.setValue(e.selectedItem.name);
					},
					formatItem: function(item) { 
						var html = '<div  style="clear: both; padding: 2px},"><div ';
						html += 'class="swatch" style="background-color:#'+item.hex+'">';
						html += '<'+'/div><'+'/div>';
						html += item.name;
						return html;
					}
				}
			).loadData();
		});
		// ]]>
		</script>
		
		<div class="sandbox">
			<form action="#" onsubmit="alert('submit: '+this.colornames2.value); return false;">
			<p>Try it: <input type="text" id="colornames2" value="" autocomplete="false" /> (type the name of a web-safe colour)</p>
			</form>
		</div>
	</div>
	
	<div class="example">
		<h2>Autosuggest with isMatch, and formatItem</h2>
		<p>
		Here we are not matching on the beginning of the index. Note that completion isn't sane in such a case.
		</p>
		
		<script type="text/javascript" class="showSrc">
		// <![CDATA[
		glow.ready(function() {
			new glow.widgets.AutoSuggest(
				"#colornames3",
				"colornames.js",
				{
					onItemSelect: function(e){
						this.setValue(e.selectedItem.name);
					},
					isMatch: function(indexedWord, inputWord) {
						return (
							inputWord.length > 1 && indexedWord.indexOf(inputWord) > -1
						);
					},
					formatItem: function(item) {
						var pat = new RegExp(glow.lang.trim(this.getValue()), 'i');
						return item.name.replace(pat, "<u>$&<"+"/u>");
					},
					delim: ","
					// complete: this option makes no sense here!
				}
			).loadData();
		});
		// ]]>
		</script>
		
		<div class="sandbox">
			<form action="#" onsubmit="alert('submit: '+this.colornames3.value); return false;">
			<p>Try it: <input type="text" id="colornames3" /> (type the name of a web-safe colour delimited with commas)</p>
			</form>
		</div>
	</div>
	
	<div class="example">
		<h2>Autosuggest with caseSensitive, maxListLength, onItemSelect, and completion</h2>
		<p>You must type a word that matches the start of an index exactly, even case-wise.</p>
		<p>Note that this results in a value that is not identical to the displayed suggestion.</p>
		
		<script type="text/javascript" class="showSrc">
		// <![CDATA[
		glow.ready(function() {
			new glow.widgets.AutoSuggest(
				"#colornames4",
				"colornames.js",
				{
					onItemSelect: function(e){
						this.setValue("#"+e.selectedItem.hex);
					},
					caseSensitive: true,
					maxListLength: 10,
					complete: true,
					delim: ","
				}
			).loadData();
		});
		// ]]>
		</script>
		
		<div class="sandbox">
			<form action="#" onsubmit="alert('submit: '+this.colornames4.value); return false;">
			<p>Try it: <input type="text" id="colornames4"  /> (type the name of a web-safe colour)</p>
			</form>
		</div>
	</div>
	
	<div class="example">
		<h2>Autosuggest with appearance options</h2>
		<p>Using the non-default theme of "dark" and changing the dimensions of the suggestion list.</p>
		
		<script type="text/javascript" class="showSrc">
		// <![CDATA[
		glow.ready(function() {
			new glow.widgets.AutoSuggest(
				"#colornames5",
				"colornames.js",
				{
					onItemSelect: function(e){
						this.setValue(e.selectedItem.name);
					},
					width: 600,
					height: 100,
					theme: "dark"
				}
			).loadData();
		});
		// ]]>
		</script>
		
		<div class="sandbox">
			<form action="#" onsubmit="alert('submit: '+this.colornames5.value); return false;">
			<p>Try it: <input type="text" id="colornames5" /> (type the name of a web-safe colour)</p>
			</form>
		</div>
	</div>	

	<h1>glow.widgets.AutoComplete examples</h1>
	
	<div class="example">	
		<h2>Single-value glow.widgets.AutoComplete</h2>
		<p>Using autocomplete directly in this way is now deprecated.</p>
		
		<script type="text/javascript" class="showSrc">
		// <![CDATA[
		glow.ready(function() {
			new glow.widgets.AutoComplete(
				"#complete1",
				"tags.js"
			).autosuggest.loadData();
		});
		// ]]>
		</script>
		
		<div class="sandbox">
			<form action="#" onsubmit="alert('submit: '+this.complete1.value); return false;">					
			<p>Try it: <input type="text" id="complete1" /> (type a tag name)</p>
			</form>
		</div>
	</div>
	
	<div class="example">
		<h2>Multi-value glow.widgets.AutoComplete</h2>
		<p>Using autocomplete directly in this way is now deprecated.</p>
		
		<script type="text/javascript" class="showSrc">
		// <![CDATA[
		glow.ready(function() {
			new glow.widgets.AutoComplete(
				"#complete2",
				"tags.js",
				{
					delim: ","
				}
			).autosuggest.loadData();
		});
		// ]]>
		</script>
		
		<div class="sandbox">
			<form action="#" onsubmit="alert('submit: '+this.complete2.value); return false;">
			<p>Try it: <input type="text" id="complete2" /> (type tag names separated by a comma)</p>
			</form>
		</div>
	</div>
	
	<div class="example">
		<h2>Same with glow.widgets.AutoSuggest (using array of strings as dataSource)</h2>
		<p>This is the preferred way to do autocomplete.</p>
		
		<script type="text/javascript" class="showSrc">
		// <![CDATA[
		glow.ready(function() {
			new glow.widgets.AutoSuggest(
				"#complete3",
				"tags.js",
				{
					complete: true,
					delim: ","
				}
			).loadData();
		});
		// ]]>
		</script>
		
		<div class="sandbox">
			<form action="#" onsubmit="alert('submit: '+this.complete3.value); return false;">
			<p>Try it: <input type="text" id="complete3" /> (type tag names separated by a comma)</p>
			</form>
			
			<p>
			Lorem ipsum clee chea saeff a. Enfreep gleepi whop heeth zogh, kucka thee shoogh ne gead ca. Hegh en, vee, fu dreati whim breest taeth ste faeck blea blea dro, plan, rae ha su koo, jooff wreap ho I gla trag ir slae ripi enmaev logher moo pog queeth I slaeing whooth bean draem, ir paers. Gu perki, ghee plae kae. Za beeing hews, bae posting ri blorling ceack wrirl, unjaeh musher fri. A, sla frashe hi; Rae bla ro I whad. Stushe I dust whea droo lae, I infrap truroer bloos troshen pi, troo cae tis, lurth gleth, precuth sea so, wu queaing see quu wha cli pla jockal cresh se la. Doopi, ches shoorl grae vaell hi jeah, op gle prega cloo, quath ke inlockall dreaw. Rea wreela, de, op, droo frae vi, furd stae du drist purth ne draing pij quoo.
			</p>
			
			<p>
			Tord hea op, wra en, zash treeb; The perbrala cheath quee taed quaen, ghor sod; Blea bu a preree, glurl unseashew neeti chee fri bree la, bagh! Gi, concroshegher cuh unsheerd bloing, stohus, ju zem. Ruv faert, ungrupi, tesum. En degleed po ir stea. Conplerth a brogs, do.
			</p>
		</div>
	</div>

	<script type="text/javascript" src="../../includes/js/showsrc.js"></script>
</body>
</html>
